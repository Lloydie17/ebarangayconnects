<div class="p-4">
  <div class="container">
    <form [formGroup]="form" (ngSubmit)="updateStatus(id, form.value.status)">
      <!-- Full Name -->
      <div class="row-md-3 mb-3">
        <label for="requestName" class="req-text">Full Name</label>
        <input type="text" formControlName="requestName" class="form-control" readonly />
      </div>

      <!-- Address -->
      <div class="row-md-3 mb-3">
        <label for="requestAddress" class="req-text">Address</label>
        <input type="text" formControlName="requestAddress" class="form-control" readonly />
      </div>

      <!-- Purpose -->
      <div class="row-md-6 mb-3">
        <label for="requestPurpose" class="req-text">Purpose</label>
        <textarea formControlName="requestPurpose" class="form-control" rows="5" readonly></textarea>
      </div>

      <!-- Status -->
      <div class="row-md-6 mb-3">
        <label for="status">Status</label>
        <select formControlName="status" [ngClass]="{ 'is-invalid': submitted && f.status.errors }" class="select-class form-control custom-select-with-caret">
                <option value="" disabled selected>Select Status</option>
                <option value="1">Pending</option>
                <option value="2">In Progress</option>
                <option value="3">Resolved</option>
        </select>
        <div *ngIf="submitted && f.status.errors" class="invalid-feedback">
            <div *ngIf="f.status.errors.required">Status is required</div>
        </div>
      </div>

      <!-- Map -->
      <div class="form-group">
        <div class="map-section">
          <div id="map-container" class="map-container">
              <div id="map" style="height: 400px; width: 100%;"></div>
              <button class="geolocate-button" type="button" (click)="getUserLocation()"></button>
          </div>
        </div>
      </div>

      <div class="d-flex justify-content-end mt-4">
        <button type="submit" class="btn btn-success">Update</button>
      </div>
    </form>
  </div>
</div>
